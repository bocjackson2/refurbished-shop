<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Refurbished Tech Shop</title>
  <meta name="description" content="Affordable refurbished laptops and phones with warranty." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0d10; --card:#12151a; --muted:#7a8699; --text:#e7ecf3; --accent:#3da9fc; --accent-2:#2cb67d; --danger:#ef476f;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block;border-radius:12px}
    .container{max-width:1080px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg, rgba(11,13,16,.96), rgba(11,13,16,.6) 70%, transparent)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 20px;border-bottom:1px solid rgba(255,255,255,.06)}
    .brand{font-weight:800;letter-spacing:.3px}
    .pill{background:rgba(255,255,255,.06);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted)}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.04));cursor:pointer}
    .btn:hover{border-color:rgba(255,255,255,.3)}
    .btn.primary{background:linear-gradient(180deg,var(--accent),#247ccf);border:none;color:white}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.18)}
    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:24px;align-items:center;padding:24px 20px}
    .hero h1{font-size:40px;line-height:1.1;margin:8px 0 10px}
    .hero p{color:var(--muted);margin:0 0 16px}
    .badges{display:flex;gap:8px;flex-wrap:wrap}
    .section{padding:16px 20px}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:8px 0 16px}
    .input, select{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:var(--text);padding:10px 12px;border-radius:12px;outline:none}
    .grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:14px}
    @media (max-width:980px){.grid{grid-template-columns:repeat(3,1fr)} .hero{grid-template-columns:1fr} }
    @media (max-width:700px){.grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:460px){.grid{grid-template-columns:1fr} .hero h1{font-size:32px} }
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:12px;display:flex;flex-direction:column;gap:10px}
    .price{display:flex;align-items:baseline;gap:10px}
    .price .now{font-weight:800}
    .price .was{color:var(--muted);text-decoration:line-through;font-size:.9em}
    .muted{color:var(--muted)}
    .label{font-size:12px;color:var(--muted)}
    .chip{font-size:12px;padding:6px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.14)}
    .row{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .row.wrap{flex-wrap:wrap}
    .cart-fab{position:fixed;right:16px;bottom:16px;z-index:60}
    .drawer{position:fixed;right:0;top:0;height:100%;width:360px;max-width:92vw;background:var(--card);border-left:1px solid rgba(255,255,255,.08);transform:translateX(110%);transition:transform .25s ease;z-index:70;display:flex;flex-direction:column}
    .drawer.open{transform:translateX(0)}
    .drawer header{padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08)}
    .drawer main{padding:12px 16px;overflow:auto;flex:1}
    .drawer footer{padding:12px 16px;border-top:1px solid rgba(255,255,255,.08)}
    .line{height:1px;background:rgba(255,255,255,.08);margin:6px 0}
    .empty{color:var(--muted);text-align:center;padding:32px 8px}
    footer{margin-top:40px;border-top:1px solid rgba(255,255,255,.06);padding:22px 20px;color:var(--muted)}
    .kicker{font-size:12px;color:var(--muted);letter-spacing:.2px;text-transform:uppercase}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <header>
    <div class="nav container">
      <div class="row">
        <span class="pill">Refurb</span>
        <a href="#" class="brand">Your Tech Store</a>
      </div>
      <nav class="row wrap">
        <a class="btn ghost" href="#shop">Shop</a>
        <a class="btn ghost" href="#about">About</a>
        <a class="btn ghost" href="#warranty">Warranty</a>
        <a class="btn ghost" href="#contact">Contact</a>
        <button class="btn" id="cartBtn" aria-label="Open cart">ðŸ›’ <span id="cartCount">0</span></button>
      </nav>
    </div>
  </header>

  <section class="hero container">
    <div>
      <div class="kicker">Refurbished â€¢ Tested â€¢ Guaranteed</div>
      <h1>Highâ€‘quality refurbished laptops & phones at fair prices</h1>
      <p>Every device is inspected, dataâ€‘wiped, batteryâ€‘checked, and backed by a 6â€‘month warranty. Save money and the planet.</p>
      <div class="badges">
        <span class="chip">ðŸšš Free local pickup</span>
        <span class="chip">ðŸ”‹ Battery health â‰¥ 80%</span>
        <span class="chip">ðŸ§ª 25â€‘point QA</span>
      </div>
      <div style="margin-top:14px">
        <a class="btn primary" href="#shop">Browse products</a>
        <a class="btn" href="#contact">Ask a question</a>
      </div>
    </div>
    <div>
      <img alt="Refurbished tech" src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=1200&auto=format&fit=crop" />
    </div>
  </section>

  <section class="section container" id="shop">
    <div class="row wrap" style="justify-content:space-between;align-items:end">
      <div>
        <div class="kicker">Shop</div>
        <h2 style="margin:6px 0 0">Laptops & Phones</h2>
        <div class="label">Fast, minimal storefront. Add your own products below.</div>
      </div>
      <div class="toolbar">
        <input class="input" id="q" placeholder="Search (brand, model, spec)" />
        <select id="brand">
          <option value="">All brands</option>
        </select>
        <select id="cat">
          <option value="">All categories</option>
          <option>Laptop</option>
          <option>Phone</option>
        </select>
        <select id="cond">
          <option value="">Any condition</option>
          <option>Grade A</option>
          <option>Grade B</option>
          <option>Grade C</option>
        </select>
        <select id="sort">
          <option value="relevance">Sort: Relevance</option>
          <option value="price-asc">Price: Low â†’ High</option>
          <option value="price-desc">Price: High â†’ Low</option>
        </select>
      </div>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
  </section>

  <section class="section container" id="about">
    <div class="kicker">About</div>
    <h2>Why buy refurbished from us?</h2>
    <p class="muted">Weâ€™re a small, local refurbisher focused on reliability. Devices are professionally cleaned, tested, and securely dataâ€‘wiped. We provide honest cosmetic grading and transparent battery health. Sustainability without compromise.</p>
  </section>

  <section class="section container" id="warranty">
    <div class="kicker">Warranty & Returns</div>
    <ul>
      <li>6â€‘month limited hardware warranty (upgradeable to 12 months).</li>
      <li>7â€‘day hassleâ€‘free returns if the device isnâ€™t as described.</li>
      <li>Excludes accidental damage and liquid exposure.</li>
    </ul>
  </section>

  <section class="section container" id="contact">
    <div class="kicker">Contact</div>
    <h2>Questions? Bulk orders? Tradeâ€‘ins?</h2>
    <p class="muted">Email <a href="mailto:youremail@example.com">youremail@example.com</a> or WhatsApp <a href="https://wa.me/1234567890" target="_blank" rel="noopener">+1 234 567 890</a>.</p>
    <p class="muted">Pickup available by appointment.</p>
  </section>

  <footer class="container">
    <div class="row wrap">
      <span>Â© <span id="year"></span> Your Tech Store</span>
      <span>Powered by a minimal static site â€¢ No monthly fees</span>
    </div>
  </footer>

  <button class="btn primary cart-fab" id="cartFab">ðŸ›’ <span id="cartCountFab">0</span></button>

  <!-- CART DRAWER -->
  <aside class="drawer" id="drawer" aria-hidden="true" aria-label="Shopping cart">
    <header class="row">
      <strong>Cart</strong>
      <button class="btn" id="closeDrawer">âœ•</button>
    </header>
    <main id="cartItems"></main>
    <footer>
      <div class="row">
        <div>
          <div class="label">Subtotal</div>
          <div id="subtotal" style="font-weight:800;font-size:18px">$0</div>
        </div>
        <button class="btn primary" id="checkout">Checkout</button>
      </div>
      <div class="label" style="margin-top:8px">Checkout opens your perâ€‘item payment links (Payhip/PayPal/Stripe). If not set, weâ€™ll draft a WhatsApp order message instead.</div>
    </footer>
  </aside>

  <script>
  // ====== PRODUCT DATA ======
  // Add/modify products here. For each product, you can optionally set a direct checkoutLink
  // (e.g., a Payhip product link, Stripe Payment Link, PayPal button URL).
  // If checkoutLink is empty, cart checkout will compose a WhatsApp order message.
  const PRODUCTS = [
    {
      id: 'lap-001',
      title: 'Lenovo ThinkPad T480',
      brand: 'Lenovo',
      category: 'Laptop',
      condition: 'Grade A',
      specs: 'i5-8350U â€¢ 16GB â€¢ 512GB SSD â€¢ 14" FHD',
      price: 329,
      was: 379,
      img: 'https://picsum.photos/seed/thinkpad/600/400',
      checkoutLink: '' // paste your Payhip/Stripe/PayPal link here
    },
    {
      id: 'lap-002',
      title: 'Apple MacBook Air 2019',
      brand: 'Apple',
      category: 'Laptop',
      condition: 'Grade B',
      specs: 'i5 â€¢ 8GB â€¢ 256GB SSD â€¢ 13.3" Retina',
      price: 449,
      was: 549,
      img: 'https://picsum.photos/seed/macbook/600/400',
      checkoutLink: ''
    },
    {
      id: 'phn-101',
      title: 'iPhone 12 128GB',
      brand: 'Apple',
      category: 'Phone',
      condition: 'Grade A',
      specs: '128GB â€¢ Battery â‰¥ 85%',
      price: 389,
      was: 459,
      img: 'https://picsum.photos/seed/iphone12/600/400',
      checkoutLink: ''
    },
    {
      id: 'phn-102',
      title: 'Samsung Galaxy S21',
      brand: 'Samsung',
      category: 'Phone',
      condition: 'Grade B',
      specs: '128GB â€¢ Battery â‰¥ 85%',
      price: 279,
      was: 329,
      img: 'https://picsum.photos/seed/galaxys21/600/400',
      checkoutLink: ''
    }
  ];

  // ====== STATE ======
  const state = {
    q: '', brand: '', cat: '', cond: '', sort: 'relevance',
    cart: JSON.parse(localStorage.getItem('cart-v1')||'{}') // {id: qty}
  };

  const els = {
    grid: document.getElementById('grid'),
    q: document.getElementById('q'), brand: document.getElementById('brand'), cat: document.getElementById('cat'), cond: document.getElementById('cond'), sort: document.getElementById('sort'),
    cartBtn: document.getElementById('cartBtn'), cartFab: document.getElementById('cartFab'), cartCount: document.getElementById('cartCount'), cartCountFab: document.getElementById('cartCountFab'),
    drawer: document.getElementById('drawer'), closeDrawer: document.getElementById('closeDrawer'), cartItems: document.getElementById('cartItems'), subtotal: document.getElementById('subtotal'), checkout: document.getElementById('checkout'), year: document.getElementById('year')
  };
  els.year.textContent = new Date().getFullYear();

  // Populate brand filter
  [...new Set(PRODUCTS.map(p=>p.brand))].sort().forEach(b=>{
    const o=document.createElement('option');o.textContent=b;els.brand.appendChild(o)
  });

  // Helpers
  const fmt = n => `$${n.toFixed(0)}`;
  const saveCart = () => localStorage.setItem('cart-v1', JSON.stringify(state.cart));
  const cartQty = () => Object.values(state.cart).reduce((a,b)=>a+b,0);
  const cartItemsList = () => Object.entries(state.cart).map(([id,qty])=>({ ...PRODUCTS.find(p=>p.id===id), qty }));
  const subtotal = () => cartItemsList().reduce((s,i)=>s+i.price*i.qty,0);

  // Render products
  function render(){
    const q = state.q.trim().toLowerCase();
    let list = PRODUCTS.filter(p=>
      (!state.brand || p.brand===state.brand) &&
      (!state.cat || p.category===state.cat) &&
      (!state.cond || p.condition===state.cond) &&
      (!q || (p.title+p.brand+p.specs+p.category+p.condition).toLowerCase().includes(q))
    );
    if(state.sort==='price-asc') list.sort((a,b)=>a.price-b.price);
    else if(state.sort==='price-desc') list.sort((a,b)=>b.price-a.price);

    els.grid.innerHTML = list.map(p=>`
      <article class="card" role="article" aria-label="${p.title}">
        <img loading="lazy" src="${p.img}" alt="${p.title}">
        <div class="row wrap">
          <strong>${p.title}</strong>
          <span class="chip">${p.condition}</span>
        </div>
        <div class="muted" style="font-size:14px">${p.specs}</div>
        <div class="row">
          <div class="price">
            <span class="now">${fmt(p.price)}</span>
            ${p.was?`<span class="was">${fmt(p.was)}</span>`:''}
          </div>
          <div class="row" style="gap:6px">
            ${p.checkoutLink?`<a class="btn" href="${p.checkoutLink}" target="_blank" rel="noopener">Buy</a>`:''}
            <button class="btn" data-add="${p.id}">Add</button>
          </div>
        </div>
        <div class="label">${p.brand} â€¢ ${p.category}</div>
      </article>
    `).join('');

    // Bind add buttons
    document.querySelectorAll('[data-add]').forEach(btn=>{
      btn.onclick = () => { const id = btn.getAttribute('data-add'); state.cart[id]=(state.cart[id]||0)+1; updateCart(); }
    });
  }

  function updateCart(){
    saveCart();
    const qty = cartQty();
    els.cartCount.textContent = qty; els.cartCountFab.textContent = qty;

    const items = cartItemsList();
    if(items.length===0){ els.cartItems.innerHTML = `<div class="empty">Your cart is empty.</div>`; }
    else{
      els.cartItems.innerHTML = items.map(i=>`
        <div class="row">
          <div style="flex:1">
            <strong style="display:block">${i.title}</strong>
            <span class="label">${i.specs}</span>
            <div class="muted">${fmt(i.price)} Ã— ${i.qty}</div>
          </div>
          <div class="row" style="gap:6px">
            ${i.checkoutLink?`<a class="btn" href="${i.checkoutLink}" target="_blank" rel="noopener">Pay</a>`:''}
            <button class="btn" data-dec="${i.id}">âˆ’</button>
            <button class="btn" data-inc="${i.id}">+</button>
            <button class="btn" data-rem="${i.id}" title="Remove">ðŸ—‘</button>
          </div>
        </div>
        <div class="line"></div>
      `).join('');
      // Bind qty controls
      document.querySelectorAll('[data-inc]').forEach(b=>b.onclick=()=>{const id=b.getAttribute('data-inc'); state.cart[id]++; updateCart();});
      document.querySelectorAll('[data-dec]').forEach(b=>b.onclick=()=>{const id=b.getAttribute('data-dec'); state.cart[id]=Math.max(1,(state.cart[id]-1)); updateCart();});
      document.querySelectorAll('[data-rem]').forEach(b=>b.onclick=()=>{const id=b.getAttribute('data-rem'); delete state.cart[id]; updateCart();});
    }
    els.subtotal.textContent = fmt(subtotal());
  }

  // Drawer controls
  function openDrawer(){ els.drawer.classList.add('open'); els.drawer.setAttribute('aria-hidden','false'); }
  function closeDrawer(){ els.drawer.classList.remove('open'); els.drawer.setAttribute('aria-hidden','true'); }
  els.cartBtn.onclick = openDrawer; els.cartFab.onclick = openDrawer; els.closeDrawer.onclick = closeDrawer;

  // Checkout logic
  els.checkout.onclick = () => {
    const items = cartItemsList(); if(items.length===0) return;
    const withLinks = items.filter(i=>i.checkoutLink);
    if(withLinks.length===items.length){
      // Open each payment link in a new tab (simple approach for a static site)
      withLinks.forEach(i=> window.open(i.checkoutLink, '_blank'));
      alert('Opened payment links in new tabs. Complete payment for each item.');
    } else {
      // Compose WhatsApp order message as fallback
      const msg = encodeURIComponent('New order:%0A' + items.map(i=>`â€¢ ${i.title} x${i.qty} â€” ${fmt(i.price*i.qty)}`).join('%0A') + `%0ASubtotal: ${fmt(subtotal())}`);
      const phone = '1234567890'; // <- put your WhatsApp number here (international format)
      window.open(`https://wa.me/${phone}?text=${msg}`, '_blank');
    }
  };

  // Filters bindings
  els.q.oninput = e=>{state.q=e.target.value; render();};
  els.brand.onchange = e=>{state.brand=e.target.value; render();};
  els.cat.onchange = e=>{state.cat=e.target.value; render();};
  els.cond.onchange = e=>{state.cond=e.target.value; render();};
  els.sort.onchange = e=>{state.sort=e.target.value; render();};

  // Initialize
  render(); updateCart();
  </script>
</body>
</html>
